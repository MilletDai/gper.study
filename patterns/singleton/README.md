# 熟练掌握单例模式的常见写法。
  * 懒汉式
  * 饿汉式
  * 注册式
## 使用单例模式注意需
  * 私有化构造器
  * 保证线程安全
  * 延迟加载
  * 防止序列化和反序列化破坏单例
  * 预防反射攻击单例
# 总结每种单例写法的优、缺点。
  * 懒汉式
    * 优点 
      > 使用时才创建对象，节省内存资源
    * 缺点
      > 线程安全问题需加锁，且不一定能保证，性能相对低
  * 饿汉式
    * 优点
      > 类加载时初始化，可以保证线程安全，无锁，性能相对高
    * 缺点
      > 不使用也会初始化，占用内存空间
  * 注册式
    * 枚举
      * 优点
        > 预加载，同恶汉，不会被反射侵犯，无锁，性能相对高
      * 缺点
        > 预定义，不灵活
    * 容器
      * 优缺点同懒汉式，同时需保证容器的线程安全问题
  * 内部类
    * 优点
      > 同饿汉式，且使用时才加载内部类，并初始化单例对象
  * ThreadLocal
    * 优点
      > 同懒汉式
    * 缺点
      > 只能保证当前线程内是单例
        
# 思考破坏单例模式的方式有哪些？并且归纳总结。
  * 反射。在构造函数内做初始化判断。
  * 序列化、反序列化。使用`readResolve()`避免生成多个实例
# 梳理内部类的执行逻辑，并画出时序图
![innerClass](https://github.com/MilletDai/gper.study/blob/master/patterns/singleton/src/main/resources/uml/SingletonInnerClass.png)


